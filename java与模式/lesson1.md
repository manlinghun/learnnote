# 软件可维护性与可复用性

## 存在的问题
1. 过于僵硬
2. 过于脆弱
3. 重复率低
4. 粘度过高

## 设计的目标
1. 可扩展性
2. 灵活性
3. 可插入性


# 设计原则
## “开-闭”原则
一个软件实体应该对扩展开放、对修改关闭
## 里氏代换原则
任何基类可以出现的地方、子类一定可以出现
## 依赖倒转原则
要依赖于抽象，不要依赖于实现
## 接口隔离原则
应当为客户端提供尽可能小的单独接口，不是大的总接口
## 组合/聚合复用原则
要尽量使用合成/聚合，而不是集成关系达到复用的目的
## 迪米特法则(LoD law of Demeter)
又称作最少知识原则（LKP least Knowledge Principle）
一个软件实体应当尽可能少的与其他实体发生相互作用


# 创建形模式

## 简单工厂（Simple Factory）模式
* 又称静态工厂方法模式，简单工厂模式就是一个工厂类根据传入的参数决定创建出哪一种产品类的实例，涉及到三个角色：
  * 工厂角色：担任这个角色是简单工厂模式的核心，含有与应用紧密相关的业务逻辑，工厂类在客户端的调用下创建产品对象。往往由一个具体java类实现
  * 抽象产品角色：是由工厂方法创建的对象的父类，或它们共同拥有的接口，抽象产品角色可以用一个java抽象类或者接口来实现
  * 具体产品角色：工厂方法模式创建的对象都是属于这个角色，其必须实现或继承抽象产品角色，具体产品角色由一个具体java类实现


## 工厂方法(Factory Method)模式
* 工厂方法模式是类的创建模式，又叫做虚拟构造子（Virtural Constructor）模式或多态性工厂（Polymorphic Factory）模糊
* 工厂方法模式的用意是定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类中
*  使用工厂方法模式涉及到以下几个角色：
   *  抽象工厂角色：抽象工厂模式的核心，与应用程序无关的，任何创建对象的工厂都必须实现这个接口，在实际系统中，这个角色通常是抽象类来实现
   *  具体工厂角色：实现了抽象工厂的接口，具体工厂角色含有与应用密切相关的逻辑，且被客户端调用以产生具体的产品对象
   *  抽象产品角色：工厂方法模式中创建产品的超类型，也就是产品对象共同的父类或者共有的接口，在系统中该角色一般由java抽象类实现
   *  具体产品角色：实现了抽象产品角色申明的接口，工厂方法模式创建的每一个对象都是具体产品角色的实例
* 简单工厂与工厂方法模式比较
  * 工厂方法的核心是一个抽象工厂类，简单工厂的核心是一个具体工厂类


## 抽象工厂模式



## 单例模式